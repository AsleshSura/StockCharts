<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Stock Chart Viewer</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/2.30.0/index.min.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="container">
            <h1>Stock Chart Visualizer</h1>

            <div class="info-section">
                <h3>Stock Chart Visualizer</h3>
                <p>Get stock data and interactive charts for any publicly traded company.</p>
                <p><small><em>Note: Enter your API key below for real-time data, or leave empty to use demo data. Get a free API key from <a href="https://www.alphavantage.co/support/#api-key" target="_blank">Alpha Vantage</a>.</em></small></p>
            </div>

            <div class="api-section">
                <div class="form-group">
                    <label for="apiKey">Alpha Vantage API Key (Optional):</label>
                    <input type="text" id="apiKey" placeholder="Enter your API key or leave empty for demo data" maxlength="50">
                    <small class="help-text">Leave empty to use demo data with limited functionality</small>
                </div>
            </div>

            <div class="search-section">
                <div class="input-group">
                    <div class="form-group">
                        <label for="companySymbol">Stock Symbol:</label>
                        <input type="text" id="companySymbol" placeholder="TSLA" maxlength="10">
                    </div>
                    <div class="form-group">
                        <label form="timeRange">Time Range:</label>
                        <select id="timeRange">
                            <option value="7" selected>Last 7 days</option>
                            <option value="30">Last 30 days</option>
                            <option value="90">Last 90 days</option>
                            <option value="365">Last year</option>
                        </select>
                    </div>
                    <button id="searchButton" onclick="searchStock()">Set Chart</button>
                </div>
            </div>

            <div id="error" class="error"></div>

            <div class="chart-section">
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p>Loading stock data...</p>
                </div>

                <div id="stockInfo" class="stock-info">
                    <div class="info-card">
                        <div class="info-label">Company</div>
                        <div id="companyName" class="info-value">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Current Price</div>
                        <div id="currentPrice" class="info-value">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Change</div>
                        <div id="priceChange" class="info-value price-change">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">High</div>
                        <div id="dayHigh" class="info-value">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Low</div>
                        <div id="dayLow" class="info-value">-</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="stockChart"></canvas>
                </div>
            </div>
        </div>

        <script src="utils.js"></script>
        <script src="script.js"></script>
    </body>
</html>